<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>View Products</title>
    <style>
        table {
            width: 100%;
            border-collapse: collapse;
        }

        th, td {
            padding: 12px;
            border: 1px solid #555;
            text-align: center;
        }

        th {
            background-color: #444;
            color: white;
        }

        img {
            width: 80px; /* Smaller preview */
            height: auto;
            cursor: pointer;
            border-radius: 5px;
            transition: transform 0.2s;
        }

        img:hover {
            transform: scale(1.1);
        }
    </style>
</head>
<body>

<h1>Product List</h1>

{% if error_message %}
<div class="error">
    {{ error_message }}
</div>
{% endif %}

<div class="table-container">
    <table>
        <thead>
        <tr>
            <th>ID</th>
            <th>Category Name</th>
            <th>Subcategory Name</th>
            <th>Product Name</th>
            <th>Product Price</th>
            <th>Product Description</th>
            <th>Product Image</th>
            <th>Product Quantity</th>
            <th>Actions</th>
        </tr>
        </thead>
        <tbody>
        {% for product in product_vo_lst %}
        <tr>
            <td>{{ product.product_id }}</td>
            <td>{{ product.product_category_id.category_name }}</td>
            <td>{{ product.product_subcategory_id.subcategory_name }}</td>
            <td>{{ product.product_name }}</td>
            <td>${{ product.product_price }}</td>
            <td>{{ product.product_description }}</td>
            <td>
                {% load static %}
                <a href="{% static 'product_image/' %}{{ product.product_image_name }}"
                   target="_blank">
                    <img src="{% static 'product_image/' %}{{ product.product_image_name }}"
                         alt="Product Image">
                </a>
            </td>
            <td>{{ product.product_quantity }}</td>
            <td>
                <form action="{% url 'admin_delete_product' %}" method="POST"
                      style="display:inline;">
                    {% csrf_token %}
                    <input type="hidden" name="product_id"
                           value="{{ product.product_id }}">
                    <button type="submit">Delete</button>
                </form>
                <form action="{% url 'admin_edit_product' product.product_id %}"
                      method="GET" style="display:inline;">
                    <button type="submit">Edit</button>
                </form>

            </td>
        </tr>
        {% endfor %}
        </tbody>
    </table>
</div>

<div class="actions">
    <a href="/admin_load_product">
        <button type="button">Add Product</button>
    </a>
    <a href="/">
        <button type="button">Home Page</button>
    </a>
</div>

</body>
</html>
